        
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Маршрут</title>
</head>
<body>
    {% include 'bar.html' %}

    {% if error_text %}
        <ul class="error-list">
        <li class="error-item">{{error_text}}</li>
        </ul>
    {% endif %}

    <form id="route-form" method="post">
        {% csrf_token %}
        {{ route_form.as_p }}
        <div id="notes-container">
            {% for note_form in notes_form%}
            <a>
                {% csrf_token %}
                {{ note_form.as_p }}
            </a>
            {% endfor %}
        </div>
        <button type="button" id="add-note-btn" onclick="addNoteForm()">Добавить заметку</button>
        <div id="dots-container">
            {% for dot_form in dots_form%}
            <a>
                {% csrf_token %}
                {{ dot_form.as_p }}
            </a>
            {% endfor %}
        </div>
        <button type="button" id="add-dot-btn" onclick="addDotForm()">Добавить точку</button>
        <input type="submit" value="Создать">
    </form>
</body>
<script>
    function createDotForm() {
        const dotFormHtml = `
            <p>Точка</p>
            <div>
                <label for="name">Название:</label>
                <input type="text" name="name" required>
            </div>
            <div>
                <label for="api_vision">Api Vision:</label>
                <input type="text" name="api_vision">
            </div>
            <div>
                <label for="date">Дата:</label>
                <input type="date" name="date">
            </div>
            <div>
                <label for="note">Примечание:</label>
                <textarea name="note"></textarea>
            </div>
            <div>
                <label for="information">Информация:</label>
                <input type="text" name="information">
            </div>
            <hr>
        `;
        return dotFormHtml;
    }


    function createNoteForm() {
        const noteFormHtml = `
            <div>
                <label for="text">Заметка:</label>
                <textarea name="text"></textarea>
            </div>
            <hr>
        `;
        return noteFormHtml;
    }

    function addNoteForm() {
        const notesContainer = document.getElementById('notes-container');
        const nextIndex = notesContainer.children.length;
        const noteFormHtml = createNoteForm();
        notesContainer.insertAdjacentHTML('beforeend', noteFormHtml);
    }

    function addDotForm() {
        const dotsContainer = document.getElementById('dots-container');
        const nextIndex = dotsContainer.children.length;
        const dotFormHtml = createDotForm();
        dotsContainer.insertAdjacentHTML('beforeend', dotFormHtml);
    }
</script>
</html>